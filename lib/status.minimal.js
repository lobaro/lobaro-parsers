var REBOOT_REASON={1:"LOW_POWER_RESET",2:"WINDOW_WATCHDOG_RESET",3:"INDEPENDENT_WATCHDOG_RESET",4:"SOFTWARE_RESET",5:"POWER_ON_RESET",6:"EXTERNAL_RESET_PIN_RESET",7:"OBL_RESET"},
    FINAL_WORDS={0:"NONE",1:"RESET",2:"ASSERT",3:"STACK_OVERFLOW",4:"HARD_FAULT",16:"INVALID_CONFIG",17:"REMOTE_RESET",18:"NETWORK_LOST",19:"NETWORK_FAIL"},
    STATUS_CODE={0:"OK",101:"PROBE_ERROR"};
function status_decode(e,t,_){return e[t]?e[t]:_||"UNKNOWN"}function status_version(e,t){return(e=e.slice(t||0)).length<3?null:"v"+e[0]+"."+e[1]+"."+e[2]}function status_Decoder(e){return{firmware:String.fromCharCode.apply(null,e.slice(0,3)),version:status_version(e,3),status_code:e[6],status_text:status_decode(STATUS_CODE,e[6]),reboot_code:e[7],reboot_reason:status_decode(REBOOT_REASON,e[7]),final_code:e[8],final_words:status_decode(FINAL_WORDS,e[8]),voltage:int16_BE(e,9)/1e3||0,temperature:int16_BE(e,11)/10||-32768,app_data:e.slice(13)}}function status_update_device(e){if(Device&&Device.setProperty){for(var t=["firmware","version","status_code","status_text","reboot_code","reboot_reason","final_code","final_words","app_data","temperature","voltage"],_=0;_<t.length;_++){var a=t[_];e[a]&&Device.setProperty(a,e[a])}e.latitude&&e.longitude&&Device.setLocation(e.latitude,e.longitude)}}function Parse(e){var t=bytes(atob(e.data)),_=Decoder(t,e.fPort);return status_update_device(_),_}
